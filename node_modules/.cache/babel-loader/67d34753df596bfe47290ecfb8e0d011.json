{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import axios from'axios';import'./AddProduct.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_URL='http://localhost:8000/';function AddProduct(props){var user=props.user,setShowAddProduct=props.setShowAddProduct,setProductAdded=props.setProductAdded;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),quantity=_useState8[0],setQuantity=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),invalid=_useState10[0],setInvalid=_useState10[1];function handleSubmit(){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!name||!description||price<=0||quantity<=0){setInvalid(true);}url=\"\".concat(API_URL,\"users/api/new-product/\");data={\"product\":{name:name,description:description,price:price,quantity:quantity}};_context.next=5;return axios({method:'POST',url:url,headers:{Authorization:'Bearer '+user.token},data:data}).then(function(res){return res.data;}).then(function(res){setProductAdded(true);setShowAddProduct(false);});case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"modal-product-view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-product-content\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Nombre del producto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},placeholder:\"Descripci\\xF3n del producto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},placeholder:\"Precio del producto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,onChange:function onChange(e){return setQuantity(e.target.value);},placeholder:\"Cantidad del producto\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleSubmit();},children:\"Confirmar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"red\",onClick:function onClick(){return setShowAddProduct(false);},children:\"Cerrar\"}),invalid&&/*#__PURE__*/_jsx(\"p\",{children:\"Debes completar todos los campos correctamente\"})]})});}export default AddProduct;","map":{"version":3,"sources":["/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/src/AddProduct.js"],"names":["useState","axios","API_URL","AddProduct","props","user","setShowAddProduct","setProductAdded","name","setName","description","setDescription","price","setPrice","quantity","setQuantity","invalid","setInvalid","handleSubmit","url","data","method","headers","Authorization","token","then","res","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport './AddProduct.css';\n\nconst API_URL = 'http://localhost:8000/';\n\nfunction AddProduct(props) {\n  const {\n    user,\n    setShowAddProduct,\n    setProductAdded,\n  } = props;\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState(0);\n  const [quantity, setQuantity] = useState(0);\n  const [invalid, setInvalid] = useState(false);\n\n  async function handleSubmit() {\n    if (!name || !description || price <= 0 || quantity <= 0) {\n      setInvalid(true);\n    }\n    const url = `${API_URL}users/api/new-product/`;\n    const data = {\n      \"product\": {\n        name,\n        description,\n        price,\n        quantity,\n      }\n    }\n    await axios({\n      method: 'POST',\n      url,\n      headers: {\n        Authorization: 'Bearer ' + user.token,\n      },\n      data,\n    })\n      .then((res) => res.data)\n      .then((res) => {\n        setProductAdded(true);\n        setShowAddProduct(false);\n      });\n  }\n\n  return (\n    <div className=\"modal-product-view\">\n      <div className=\"modal-product-content\">\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"Nombre del producto\"\n        />\n        <input\n          type=\"text\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"DescripciÃ³n del producto\"\n        />\n        <input\n          type=\"number\"\n          value={price}\n          onChange={(e) => setPrice(e.target.value)}\n          placeholder=\"Precio del producto\"\n        />\n        <input\n          type=\"number\"\n          value={quantity}\n          onChange={(e) => setQuantity(e.target.value)}\n          placeholder=\"Cantidad del producto\"\n        />\n        <button\n          type=\"button\"\n          onClick={() => handleSubmit()}\n        >\n          Confirmar\n        </button>\n        <button\n          type=\"button\"\n          className=\"red\"\n          onClick={() => setShowAddProduct(false)}\n        >\n          Cerrar\n        </button>\n        {(invalid) && (\n          <p>\n            Debes completar todos los campos correctamente\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}