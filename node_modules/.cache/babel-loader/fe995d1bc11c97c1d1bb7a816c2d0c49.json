{"ast":null,"code":"var _jsxFileName = \"/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/src/AddProduct.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport './AddProduct.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:8000/';\n\nfunction AddProduct(props) {\n  _s();\n\n  const {\n    user,\n    setShowAddProduct,\n    setProductAdded\n  } = props;\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState(0);\n  const [quantity, setQuantity] = useState(0);\n  const [invalid, setInvalid] = useState(false);\n\n  async function handleSubmit() {\n    if (!name || !description || price <= 0 || quantity <= 0) {\n      setInvalid(true);\n    }\n\n    const url = `${API_URL}users/api/new-product/`;\n    const data = {\n      \"product\": {\n        name,\n        description,\n        price,\n        quantity\n      }\n    };\n    await axios({\n      method: 'POST',\n      url,\n      headers: {\n        Authorization: 'Bearer ' + user.token\n      },\n      data\n    }).then(res => res.data).then(res => {\n      setProductAdded(true);\n      setShowAddProduct(false);\n    }).catch(err => {\n      console.log(err.response);\n      console.log(err.response.data);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-view\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"Nombre del producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        placeholder: \"Descripci\\xF3n del producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: price,\n        onChange: e => setPrice(e.target.value),\n        placeholder: \"Precio del producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: quantity,\n        onChange: e => setQuantity(e.target.value),\n        placeholder: \"Cantidad del producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleSubmit(),\n        children: \"Confirmar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"red\",\n        onClick: () => setShowAddProduct(false),\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), invalid && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Debes completar todos los campos correctamente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddProduct, \"4YBpRvNHpNcPs931NTtPWhxgvwI=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/src/AddProduct.js"],"names":["useState","axios","API_URL","AddProduct","props","user","setShowAddProduct","setProductAdded","name","setName","description","setDescription","price","setPrice","quantity","setQuantity","invalid","setInvalid","handleSubmit","url","data","method","headers","Authorization","token","then","res","catch","err","console","log","response","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport './AddProduct.css';\n\nconst API_URL = 'http://localhost:8000/';\n\nfunction AddProduct(props) {\n  const {\n    user,\n    setShowAddProduct,\n    setProductAdded,\n  } = props;\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState(0);\n  const [quantity, setQuantity] = useState(0);\n  const [invalid, setInvalid] = useState(false);\n\n  async function handleSubmit() {\n    if (!name || !description || price <= 0 || quantity <= 0) {\n      setInvalid(true);\n    }\n    const url = `${API_URL}users/api/new-product/`;\n    const data = {\n      \"product\": {\n        name,\n        description,\n        price,\n        quantity,\n      }\n    }\n    await axios({\n      method: 'POST',\n      url,\n      headers: {\n        Authorization: 'Bearer ' + user.token,\n      },\n      data,\n    })\n      .then((res) => res.data)\n      .then((res) => {\n        setProductAdded(true);\n        setShowAddProduct(false);\n      })\n      .catch((err) => {\n        console.log(err.response);\n        console.log(err.response.data);\n      });\n  }\n\n  return (\n    <div className=\"modal-view\">\n      <div className=\"modal-content\">\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"Nombre del producto\"\n        />\n        <input\n          type=\"text\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"DescripciÃ³n del producto\"\n        />\n        <input\n          type=\"number\"\n          value={price}\n          onChange={(e) => setPrice(e.target.value)}\n          placeholder=\"Precio del producto\"\n        />\n        <input\n          type=\"number\"\n          value={quantity}\n          onChange={(e) => setQuantity(e.target.value)}\n          placeholder=\"Cantidad del producto\"\n        />\n        <button\n          type=\"button\"\n          onClick={() => handleSubmit()}\n        >\n          Confirmar\n        </button>\n        <button\n          type=\"button\"\n          className=\"red\"\n          onClick={() => setShowAddProduct(false)}\n        >\n          Cerrar\n        </button>\n        {(invalid) && (\n          <p>\n            Debes completar todos los campos correctamente\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}