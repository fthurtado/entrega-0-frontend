{"ast":null,"code":"var _jsxFileName = \"/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:8000/';\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,3}))$/;\n\nfunction App() {\n  _s();\n\n  const [inLogin, setInLogin] = useState(true);\n  const [nickName, setNickName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [invalid, setInvalid] = useState(false);\n  const [invalidLogin, setInvalidLogin] = useState(false);\n\n  async function handleSubmit() {\n    setInvalid(false);\n\n    if (inLogin) {\n      if (!email || !password) {\n        setInvalid(true);\n        return;\n      }\n\n      const url = `${API_URL}users/api/log-in/`;\n      let data = {};\n\n      if (emailRegex.test(email)) {\n        data = {\n          \"email\": email,\n          \"password\": password\n        };\n      } else {\n        data = {\n          \"nick_name\": email,\n          \"password\": password\n        };\n      }\n\n      const user = await axios({\n        method: 'POST',\n        url,\n        data\n      }).then(res => res.data).then(res => {\n        console.log(res);\n      }).catch(err => {\n        var _err$response;\n\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n          setInvalidLogin(true);\n        }\n      });\n    } else {\n      if (!nickName || !password || !email) {\n        setInvalid(true);\n        return;\n      }\n\n      const url = `${API_URL}users/api/sign-up/`;\n      const data = {\n        \"email\": email,\n        \"password\": password,\n        \"nick_name\": nickName\n      };\n      const user = await axios({\n        method: 'POST',\n        url,\n        data\n      }).then(res => res.data).then(res => {\n        console.log(res);\n      });\n    }\n  }\n\n  useEffect(() => {\n    setInvalid(false);\n    setNickName('');\n    setEmail('');\n    setPassword('');\n  }, [inLogin]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: inLogin ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"contrase\\xF1a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"confirm-button\",\n        onClick: () => handleSubmit(),\n        children: \"Confirmar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"none-account\",\n        onClick: () => setInLogin(false),\n        children: \"Crear cuenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), invalid && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"invalid\",\n        children: \"Request incorrecto. Debe llenar todos los campos.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }, this), invalidLogin && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"invalid\",\n        children: \"Request incorrecto. El email o nickname no coincide con la contrase\\xF1a.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: nickName,\n        onChange: e => setNickName(e.target.value),\n        placeholder: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"contrase\\xF1a\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"confirm-button\",\n        onClick: () => handleSubmit(),\n        children: \"Confirmar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"none-account\",\n        onClick: () => setInLogin(true),\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this), invalid && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"invalid\",\n        children: \"Request incorrecto. Debe llenar todos los campos.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"nC8ChQJx6N5Zop4NqxTVTw5Mj3g=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/fh17/Desktop/IIC2173 - Arquitecura de Sistemas de Software/Entrega 0/frontend/src/App.js"],"names":["useEffect","useState","axios","API_URL","emailRegex","App","inLogin","setInLogin","nickName","setNickName","email","setEmail","password","setPassword","invalid","setInvalid","invalidLogin","setInvalidLogin","handleSubmit","url","data","test","user","method","then","res","console","log","catch","err","response","status","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = 'http://localhost:8000/';\nconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,3}))$/;\n\nfunction App() {\n  const [inLogin, setInLogin] = useState(true);\n  const [nickName, setNickName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [invalid, setInvalid] = useState(false);\n  const [invalidLogin, setInvalidLogin] = useState(false);\n\n  async function handleSubmit() {\n    setInvalid(false);\n    if (inLogin) {\n      if (!email || !password) {\n        setInvalid(true);\n        return;\n      }\n      const url = `${API_URL}users/api/log-in/`;\n      let data = {};\n      if (emailRegex.test(email)) {\n        data = {\n          \"email\": email,\n          \"password\": password,\n        };\n      } else {\n        data = {\n          \"nick_name\": email,\n          \"password\": password,\n        };\n      }\n      const user = await axios({\n        method: 'POST',\n        url,\n        data,\n      })\n        .then((res) => res.data)\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => {\n          if (err.response?.status === 404) {\n            setInvalidLogin(true);\n          }\n        });\n    } else {\n      if (!nickName || !password || !email) {\n        setInvalid(true);\n        return;\n      }\n      const url = `${API_URL}users/api/sign-up/`;\n      const data = {\n        \"email\": email,\n        \"password\": password,\n        \"nick_name\": nickName,\n      };\n      const user = await axios({\n        method: 'POST',\n        url,\n        data,\n      })\n        .then((res) => res.data)\n        .then((res) => {\n          console.log(res);\n        });\n    }\n  }\n\n  useEffect(() => {\n    setInvalid(false);\n    setNickName('');\n    setEmail('');\n    setPassword('');\n  }, [inLogin])\n\n  return (\n    <div className=\"App\">\n      {(inLogin)\n        ? (\n          <div className=\"container\">\n            <p className=\"title\">\n              Log In\n            </p>\n            <input\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"email\"\n            />\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"contraseña\"\n            />\n            <button\n              type=\"button\"\n              className=\"confirm-button\"\n              onClick={() => handleSubmit()}\n            >\n              Confirmar\n            </button>\n            <button\n              type=\"button\"\n              className=\"none-account\"\n              onClick={() => setInLogin(false)}\n            >\n              Crear cuenta\n            </button>\n            {(invalid) && (\n              <p className=\"invalid\">\n                Request incorrecto. Debe llenar todos los campos.\n              </p>\n            )}\n            {(invalidLogin) && (\n              <p className=\"invalid\">\n                Request incorrecto. El email o nickname no coincide con la contraseña.\n              </p>\n            )}\n          </div>\n        ) : (\n          <div className=\"container\">\n            <p className=\"title\">\n              Sign Up\n            </p>\n            <input\n              type=\"text\"\n              value={nickName}\n              onChange={(e) => setNickName(e.target.value)}\n              placeholder=\"username\"\n            />\n            <input\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"email\"\n            />\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"contraseña\"\n            />\n            <button\n              type=\"button\"\n              className=\"confirm-button\"\n              onClick={() => handleSubmit()}\n            >\n              Confirmar\n            </button>\n            <button\n              type=\"button\"\n              className=\"none-account\"\n              onClick={() => setInLogin(true)}\n            >\n              Log in\n            </button>\n            {(invalid) && (\n              <p className=\"invalid\">\n                Request incorrecto. Debe llenar todos los campos.\n              </p>\n            )}\n          </div>\n        )}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}